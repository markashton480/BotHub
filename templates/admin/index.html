{% extends "admin/base_site.html" %}

{% block content %}
  <div class="dashboard-module">
    <h1>Overview</h1>
    <div class="dashboard-grid">
      <div class="dashboard-card">
        <div class="dashboard-label">Projects</div>
        <div class="dashboard-value">{{ stats.projects }}</div>
      </div>
      <div class="dashboard-card">
        <div class="dashboard-label">Tasks</div>
        <div class="dashboard-value">{{ stats.tasks }}</div>
      </div>
      <div class="dashboard-card">
        <div class="dashboard-label">Threads</div>
        <div class="dashboard-value">{{ stats.threads }}</div>
      </div>
      <div class="dashboard-card">
        <div class="dashboard-label">Messages</div>
        <div class="dashboard-value">{{ stats.messages }}</div>
      </div>
      <div class="dashboard-card">
        <div class="dashboard-label">Tags</div>
        <div class="dashboard-value">{{ stats.tags }}</div>
      </div>
      <div class="dashboard-card">
        <div class="dashboard-label">Webhooks</div>
        <div class="dashboard-value">{{ stats.webhooks }}</div>
      </div>
      <div class="dashboard-card">
        <div class="dashboard-label">Audit Events</div>
        <div class="dashboard-value">{{ stats.audit_events }}</div>
      </div>
    </div>
  </div>

  {% if app_list %}
    {% for app in app_list %}
      <div class="module">
        <h2>{{ app.name }}</h2>
        <table>
          <tbody>
            {% for model in app.models %}
              <tr>
                <th scope="row">
                  {% if model.admin_url %}
                    <a href="{{ model.admin_url }}">{{ model.name }}</a>
                  {% else %}
                    {{ model.name }}
                  {% endif %}
                </th>
                <td>
                  {% if model.add_url %}
                    <a href="{{ model.add_url }}">Add</a>
                  {% endif %}
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% endfor %}
  {% else %}
    <p>No apps available.</p>
  {% endif %}
{% endblock %}
